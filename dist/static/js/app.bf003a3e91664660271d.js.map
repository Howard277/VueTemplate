{"version":3,"sources":["webpack:///static/js/app.bf003a3e91664660271d.js","webpack:///./src/App.vue","webpack:///./src/views/login.vue","webpack:///src/views/common/abstract.vue","webpack:///./src/views/common/abstract.vue?e5f5","webpack:///./src/views/common/abstract.vue","webpack:///./src/router/fullpath.js","webpack:///src/App.vue","webpack:///./src/App.vue?8f6c","webpack:///src/views/login.vue","webpack:///./src/views/login.vue?2fc4","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/api/index.js","webpack:///./src/assets/util.js"],"names":["webpackJsonp","2gmu","module","exports","Ftwu","NHnr","__webpack_exports__","__webpack_require__","injectStyle","ssrContext","login_injectStyle","Object","defineProperty","value","vue_esm","element_ui_common","element_ui_common_default","n","promise","promise_default","api","common_abstract","data","children","beforeRouteEnter","to","from","next","vm","$route","meta","watch","this","render","_vm","_h","$createElement","_c","_self","attrs","gutter","_l","route","index","key","span","staticClass","_v","_s","name","_e","staticRenderFns","esExports","views_common_abstract","normalizeComponent","Component","src_views_common_abstract","fullpath","path","component","resolve","e","then","__WEBPACK_AMD_REQUIRE_ARRAY__","apply","bind","catch","oe","icon","util","myInterceptor","App","menuData","userData","methods","getPermission","resources","resourcePermission","Array","isArray","forEach","i","resourcePath","setInterceptor","interceptors","request","use","config","perName","url","replace","baseURL","split","reg1","match","reg2","method","console","warn","$message","message","type","a","reject","getRoutes","allowedRouter","arrayMenus","hashMenus","setMenu2Hash","array","base","map","hashKey","$root","originPath","findLocalRoute","replyResult","pathKey","push","concat","extendRoutes","actualRouter","beforeEnter","$router","addRoutes","redirect","signin","callback","localUser","query","currentRoute","get","params","ticket","res","userInfo","commission_resource_list","length","document","body","innerHTML","loginDirect","newPath","_this","logoutDirect","eject","defaults","headers","common","created","App_render","id","on","login","logout","App_staticRenderFns","App_esExports","selectortype_template_index_0_src_App","App_normalizeComponent","App___vue_styles__","App_Component","src_App","vue_router_esm","_axios_0_18_0_axios","_axios_0_18_0_axios_default","login_requestLogin","views_login","username","password","isBtnLoading","computed","btnText","error","loginParams","targetAppCode","$emit","sessionStorage","clear","login_render","keyup","$event","_k","keyCode","autofocus","placeholder","model","$$v","expression","slot","staticStyle","width","loading","nativeOn","click","login_staticRenderFns","login_esExports","selectortype_template_index_0_src_views_login","login_normalizeComponent","login___vue_styles__","login_Component","src_views_login","baseRoute","router","mode","routes","beforeEach","routeName","window","title","src_router","directive","el","binding","prototype","$_has","parentNode","removeChild","components","template","gyMJ","__WEBPACK_IMPORTED_MODULE_0_axios__","__WEBPACK_IMPORTED_MODULE_0_axios___default","__WEBPACK_IMPORTED_MODULE_1__assets_util_js__","instance","create","timeout","post","response","mt/N","d","session","deepcopy","buildMenu","catchError","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_typeof__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_typeof___default","__WEBPACK_IMPORTED_MODULE_3_vue__","__WEBPACK_IMPORTED_MODULE_4_element_ui__","lsVal","getItem","indexOf","JSON","parse","setItem","source","sourceCopy","item","ckey","info","indexKeys","parentIndex","findIndex","findChildren","parentArr","node","status","removeItem","onClose","location","reload","tvR6"],"mappings":"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","file":"static/js/app.bf003a3e91664660271d.js","sourcesContent":["webpackJsonp([7],{\n\n/***/ \"2gmu\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"Ftwu\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"NHnr\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./node_modules/vue/dist/vue.esm.js\nvar vue_esm = __webpack_require__(\"7+uW\");\n\n// EXTERNAL MODULE: ./node_modules/element-ui/lib/element-ui.common.js\nvar element_ui_common = __webpack_require__(\"zL8q\");\nvar element_ui_common_default = /*#__PURE__*/__webpack_require__.n(element_ui_common);\n\n// EXTERNAL MODULE: ./node_modules/element-ui/lib/theme-chalk/index.css\nvar theme_chalk = __webpack_require__(\"tvR6\");\nvar theme_chalk_default = /*#__PURE__*/__webpack_require__.n(theme_chalk);\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/core-js/promise.js\nvar promise = __webpack_require__(\"//Fk\");\nvar promise_default = /*#__PURE__*/__webpack_require__.n(promise);\n\n// EXTERNAL MODULE: ./src/api/index.js\nvar api = __webpack_require__(\"gyMJ\");\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/common/abstract.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var common_abstract = ({\n  data: function data() {\n    return {\n      children: null\n    };\n  },\n\n  beforeRouteEnter: function beforeRouteEnter(to, from, next) {\n    next(function (vm) {\n      var children = vm.$route.meta.children;\n      if (children) {\n        vm.children = children;\n      } else {\n        vm.children = null;\n      }\n    });\n  },\n  watch: {\n    '$route': function $route(to, from) {\n      var children = this.$route.meta.children;\n      if (children) {\n        this.children = children;\n      } else {\n        this.children = null;\n      }\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-01378aaa\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/common/abstract.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.children)?_c('el-row',{attrs:{\"gutter\":20}},_vm._l((_vm.children),function(route,index){return _c('el-col',{key:index,attrs:{\"span\":4}},[_c('el-card',[_c('div',{staticClass:\"text\"},[_c('p',[_vm._v(_vm._s(route.name))]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":{name: route.name}}},[_vm._v(\"查看\")])],1)])],1)})):_vm._e(),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var views_common_abstract = (esExports);\n// CONCATENATED MODULE: ./src/views/common/abstract.vue\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  common_abstract,\n  views_common_abstract,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var src_views_common_abstract = (Component.exports);\n\n// CONCATENATED MODULE: ./src/router/fullpath.js\n\n\n/* harmony default export */ var fullpath = ([{\n  path: '/',\n  name: '首页',\n  component: function component(resolve) {\n    return __webpack_require__.e/* require */(2).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"8hXn\")]; ((resolve).apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n  },\n  children: [{\n    path: '/roles',\n    name: '平台-角色管理',\n    meta: {\n      name: '角色管理'\n    },\n    component: function component(resolve) {\n      return __webpack_require__.e/* require */(3).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"1XJF\")]; ((resolve).apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n    }\n  }, {\n    path: '/accounts',\n    name: '平台-账号管理',\n    meta: {\n      name: '账号管理'\n    },\n    component: function component(resolve) {\n      return __webpack_require__.e/* require */(1).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"jk0N\")]; ((resolve).apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n    }\n  }, {\n    path: '/goods',\n    name: '商品管理',\n    meta: {\n      icon: '&#xe62e;'\n    },\n    component: src_views_common_abstract,\n    children: [{\n      path: 'list',\n      name: '商品信息',\n      meta: {},\n      component: function component(resolve) {\n        return __webpack_require__.e/* require */(0).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"8dlZ\")]; ((resolve).apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n      }\n    }]\n  }]\n}]);\n// EXTERNAL MODULE: ./src/assets/util.js\nvar util = __webpack_require__(\"mt/N\");\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/App.vue\n\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n//请求拦截句柄\nvar myInterceptor = void 0;\n\n/* harmony default export */ var App = ({\n  data: function data() {\n    return {\n      menuData: null,\n      userData: null\n    };\n  },\n\n  methods: {\n    //解析用户信息，将可访问的资源映射成为map返回\n    getPermission: function getPermission(resources) {\n      var resourcePermission = {};\n      if (Array.isArray(resources)) {\n        resources.forEach(function (e, i) {\n          var key = e.resourcePath;\n          resourcePermission[key] = true;\n        });\n      }\n      return resourcePermission;\n    },\n    //设置拦截器\n    setInterceptor: function setInterceptor(resourcePermission) {\n      var vm = this;\n      myInterceptor = api[\"a\" /* default */].interceptors.request.use(function (config) {\n        //得到请求路径\n        var perName = config.url.replace(config.baseURL, '').replace('/GET', '').replace('/POST', '').split('?')[0];\n        //权限格式1 /path/${param}\n        var reg1 = perName.match(/^(\\/[^\\/]+\\/)[^\\/]+$/);\n        if (reg1) {\n          perName = reg1[1] + '**';\n        }\n        //权限格式2 /path/${param}/path\n        var reg2 = perName.match(/^\\/[^\\/]+\\/([^\\/]+)\\/[^\\/]+$/);\n        if (reg2) {\n          perName = perName.replace(reg2[1], '*');\n        }\n        //校验权限\n        if (!resourcePermission[config.method + ',' + perName]) {\n          //调试信息\n          console.warn(resourcePermission, config.method + ',' + perName);\n          vm.$message({\n            message: '无访问权限，请联系企业管理员',\n            type: 'warning'\n          });\n          //拦截请求\n          return promise_default.a.reject({\n            message: 'no permission'\n          });\n        }\n        return config;\n      });\n    },\n    getRoutes: function getRoutes(resources) {\n      // if(!userInfo.menus){\n      //   return console.warn(userInfo);\n      // }\n      var vm = this;\n      var allowedRouter = [];\n      //将菜单数据转成多维数组格式\n      var arrayMenus = util[\"a\" /* buildMenu */](resources);\n      //将多维数组转成对象格式\n      var hashMenus = {};\n      var setMenu2Hash = function setMenu2Hash(array, base) {\n        array.map(function (key) {\n          if (key.route) {\n            var hashKey = ((base ? base + '/' : '') + key.route).replace(/^\\//, '');\n            hashMenus['/' + hashKey] = true;\n            if (Array.isArray(key.children)) {\n              setMenu2Hash(key.children, key.route);\n            }\n          }\n        });\n      };\n      setMenu2Hash(arrayMenus);\n      //全局挂载hashMenus，用于实现路由守卫\n      this.$root.hashMenus = hashMenus;\n      //筛选本地路由方法\n      var findLocalRoute = function findLocalRoute(array, base) {\n        var replyResult = [];\n        array.forEach(function (route) {\n          var pathKey = (base ? base + '/' : '') + route.path;\n          if (hashMenus[pathKey]) {\n            if (Array.isArray(route.children)) {\n              route.children = findLocalRoute(route.children, route.path);\n            }\n            replyResult.push(route);\n          }\n        });\n        if (base) {\n          return replyResult;\n        } else {\n          allowedRouter = allowedRouter.concat(replyResult);\n        }\n      };\n      var originPath = util[\"c\" /* deepcopy */](fullpath[0].children);\n      findLocalRoute(originPath);\n      return allowedRouter;\n    },\n    extendRoutes: function extendRoutes(allowedRouter) {\n      var vm = this;\n      var actualRouter = util[\"c\" /* deepcopy */](allowedRouter);\n      actualRouter.map(function (e) {\n        //复制子菜单信息到meta用于实现导航相关效果，非必需\n        if (e.children) {\n          if (!e.meta) e.meta = {};\n          e.meta.children = e.children;\n        }\n        //为动态路由添加独享守卫\n        return e.beforeEnter = function (to, from, next) {\n          if (vm.$root.hashMenus[to.path]) {\n            next();\n          } else {\n            next('/401');\n          }\n        };\n      });\n      var originPath = util[\"c\" /* deepcopy */](fullpath);\n      originPath[0].children = actualRouter;\n      //注入404路由，所有其他请求默认路由到404\n      vm.$router.addRoutes(originPath.concat([{\n        path: '*',\n        redirect: '/404'\n      }]));\n    },\n    //登录操作\n    signin: function signin(callback) {\n      var vm = this;\n      //通过检查token，判断登录状态。如果token不存在，就跳转到登录界面。\n      var localUser = util[\"d\" /* session */]('token');\n      if (!localUser) {\n        return vm.$router.push({ path: '/login', query: { from: vm.$router.currentRoute.path } });\n      }\n      //设置请求头统一携带token\n      //instance.defaults.headers.common['Authorization'] = 'Bearer ' + localUser;\n      //获取用户信息及权限数据\n      api[\"a\" /* default */].get('/login/checkTicket', {\n        params: {\n          ticket: localUser\n        }\n      }).then(function (res) {\n        var userInfo = res.data;\n        //取得资源权限对象\n        var resourcePermission = vm.getPermission(userInfo.commission_resource_list);\n        //使用资源权限设置请求拦截\n        //vm.setInterceptor(resourcePermission);\n        //获得实际路由\n        var allowedRouter = vm.getRoutes(userInfo.commission_resource_list);\n        //若无可用路由限制访问\n        if (!allowedRouter || !allowedRouter.length) {\n          util[\"d\" /* session */]('token', '');\n          return document.body.innerHTML = '<h1>账号访问受限，请联系系统管理员！</h1>';\n        }\n        //动态注入路由\n        vm.extendRoutes(allowedRouter);\n        //保存数据用作他处，非必需\n        vm.menuData = allowedRouter;\n        vm.userData = userInfo;\n        //权限检验方法\n        // Vue.prototype.$_has = function(rArray) {\n        //   let resources = [];\n        //   let permission = true;\n        //   //提取权限数组\n        //   if (Array.isArray(rArray)) {\n        //     rArray.forEach(function(e) {\n        //       resources = resources.concat(e.p);\n        //     });\n        //   } else {\n        //     resources = resources.concat(rArray.p);\n        //   }\n        //   //校验权限\n        //   resources.forEach(function(p) {\n        //     if (!resourcePermission[p]) {\n        //       return permission = false;\n        //     }\n        //   });\n        //   return permission;\n        // }\n        //执行回调\n        typeof callback === 'function' && callback();\n      });\n    },\n    //登录\n    loginDirect: function loginDirect(newPath) {\n      var _this = this;\n\n      this.signin(function () {\n        //跳转到新路径或跟路径\n        _this.$router.replace({ path: newPath || '/' });\n      });\n    },\n    //退出\n    logoutDirect: function logoutDirect() {\n      //清除session\n      util[\"d\" /* session */]('token', '');\n      //清除请求权限控制\n      api[\"a\" /* default */].interceptors.request.eject(myInterceptor);\n      //清除菜单权限\n      this.$root.hashMenus = {};\n      //清除请求头token\n      api[\"a\" /* default */].defaults.headers.common['Authorization'] = '';\n      //回到登录页\n      this.$router.replace({ path: '/login' });\n    }\n  },\n  created: function created(newPath) {\n    this.signin();\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4a537a69\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\nvar App_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('router-view',{attrs:{\"id\":\"app\"},on:{\"login\":_vm.loginDirect,\"logout\":_vm.logoutDirect}})}\nvar App_staticRenderFns = []\nvar App_esExports = { render: App_render, staticRenderFns: App_staticRenderFns }\n/* harmony default export */ var selectortype_template_index_0_src_App = (App_esExports);\n// CONCATENATED MODULE: ./src/App.vue\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"Ftwu\")\n}\nvar App_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar App___vue_template_functional__ = false\n/* styles */\nvar App___vue_styles__ = injectStyle\n/* scopeId */\nvar App___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar App___vue_module_identifier__ = null\nvar App_Component = App_normalizeComponent(\n  App,\n  selectortype_template_index_0_src_App,\n  App___vue_template_functional__,\n  App___vue_styles__,\n  App___vue_scopeId__,\n  App___vue_module_identifier__\n)\n\n/* harmony default export */ var src_App = (App_Component.exports);\n\n// EXTERNAL MODULE: ./node_modules/vue-router/dist/vue-router.esm.js\nvar vue_router_esm = __webpack_require__(\"/ocq\");\n\n// EXTERNAL MODULE: ./node_modules/_axios@0.18.0@axios/index.js\nvar _axios_0_18_0_axios = __webpack_require__(\"aozt\");\nvar _axios_0_18_0_axios_default = /*#__PURE__*/__webpack_require__.n(_axios_0_18_0_axios);\n\n// EXTERNAL MODULE: ./node_modules/_crypto-js@3.1.9-1@crypto-js/index.js\nvar _crypto_js_3_1_9_1_crypto_js = __webpack_require__(\"mgIi\");\nvar _crypto_js_3_1_9_1_crypto_js_default = /*#__PURE__*/__webpack_require__.n(_crypto_js_3_1_9_1_crypto_js);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/login.vue\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n//传入用户名和密码，调用远程地址，获取token\nvar login_requestLogin = function requestLogin(params) {\n  // let words = CryptoJS.enc.Utf8.parse(params.password);\n  // let base64 = CryptoJS.enc.Base64.stringify(words);\n  // params.password = base64;\n  return _axios_0_18_0_axios_default.a.get(\"http://localhost:8081/login/checkUser\", { params: params });\n};\n\n/* harmony default export */ var views_login = ({\n  data: function data() {\n    return {\n      username: \"\",\n      password: \"\",\n      isBtnLoading: false\n    };\n  },\n\n  computed: {\n    btnText: function btnText() {\n      if (this.isBtnLoading) return \"登录中...\";\n      return \"登录\";\n    }\n  },\n  methods: {\n    login: function login() {\n      var vm = this;\n      if (!vm.username) {\n        vm.$message.error(\"请填写用户名！！！\");\n        return;\n      }\n      if (!vm.password) {\n        vm.$message.error(\"请填写密码\");\n        return;\n      }\n\n      var loginParams = {\n        username: vm.username,\n        password: vm.password,\n        targetAppCode: \"testApp\"\n      };\n      vm.isBtnLoading = true;\n      //调用远程地址获取token\n      login_requestLogin(loginParams).then(function (res) {\n        vm.isBtnLoading = false;\n        if (res.data) {\n          util[\"d\" /* session */](\"token\", res.data);\n          //跳转到原来的目标地址\n          vm.$emit(\"login\", vm.$router.currentRoute.query.from);\n        } else {\n          return promise_default.a.reject({\n            message: \"登录异常！\"\n          });\n        }\n      }).catch(util[\"b\" /* catchError */]);\n    }\n  },\n  created: function created() {\n    sessionStorage.clear();\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-389010fd\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/login.vue\nvar login_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"g-center login-page\",on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.login($event)}}},[_c('el-form',{staticClass:\"login-form\"},[_c('el-form-item',[_c('el-input',{attrs:{\"autofocus\":true,\"placeholder\":\"请输入账号\"},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}},[_c('template',{slot:\"prepend\"},[_c('i',{staticClass:\"el-icon-mobile-phone\"})])],2)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-input',{attrs:{\"placeholder\":\"请输入密码\",\"type\":\"password\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}},[_c('template',{slot:\"prepend\"},[_c('i',{staticClass:\"el-icon-info\"})])],2)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"primary\",\"loading\":_vm.isBtnLoading},nativeOn:{\"click\":function($event){return _vm.login($event)}}},[_vm._v(_vm._s(_vm.btnText))])],1)],1)],1)])}\nvar login_staticRenderFns = []\nvar login_esExports = { render: login_render, staticRenderFns: login_staticRenderFns }\n/* harmony default export */ var selectortype_template_index_0_src_views_login = (login_esExports);\n// CONCATENATED MODULE: ./src/views/login.vue\nfunction login_injectStyle (ssrContext) {\n  __webpack_require__(\"2gmu\")\n}\nvar login_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar login___vue_template_functional__ = false\n/* styles */\nvar login___vue_styles__ = login_injectStyle\n/* scopeId */\nvar login___vue_scopeId__ = \"data-v-389010fd\"\n/* moduleIdentifier (server only) */\nvar login___vue_module_identifier__ = null\nvar login_Component = login_normalizeComponent(\n  views_login,\n  selectortype_template_index_0_src_views_login,\n  login___vue_template_functional__,\n  login___vue_styles__,\n  login___vue_scopeId__,\n  login___vue_module_identifier__\n)\n\n/* harmony default export */ var src_views_login = (login_Component.exports);\n\n// CONCATENATED MODULE: ./src/router/index.js\n\n\n\nvue_esm[\"default\"].use(vue_router_esm[\"a\" /* default */]);\n\nvar baseRoute = [{\n  path: '/login',\n  name: '登录',\n  component: src_views_login\n}, {\n  path: '/401',\n  name: '无权访问',\n  component: function component(resolve) {\n    return __webpack_require__.e/* require */(5).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"l/MN\")]; ((resolve).apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n  }\n}, {\n  path: '/404',\n  name: '找不到页面',\n  component: function component(resolve) {\n    return __webpack_require__.e/* require */(4).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"7FDS\")]; ((resolve).apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n  }\n}];\n\nvar router = new vue_router_esm[\"a\" /* default */]({\n  mode: 'history',\n  routes: baseRoute\n});\n\nrouter.beforeEach(function (to, from, next) {\n  var routeName = to.meta.name || to.name;\n  window.document.title = (routeName ? routeName + ' - ' : '') + 'Vue-Access-Control';\n  next();\n});\n\n/* harmony default export */ var src_router = (router);\n// CONCATENATED MODULE: ./src/main.js\n\n\n\n\n\n\n\nvue_esm[\"default\"].use(element_ui_common_default.a);\n//权限指令\nvue_esm[\"default\"].directive('has', {\n  bind: function bind(el, binding) {\n    if (!vue_esm[\"default\"].prototype.$_has(binding.value)) {\n      el.parentNode.removeChild(el);\n    }\n  }\n});\n\nnew vue_esm[\"default\"]({\n  el: '#app',\n  router: src_router,\n  components: {\n    App: src_App\n  },\n  template: \"<App/>\"\n});\n\n/***/ }),\n\n/***/ \"gyMJ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_axios__ = __webpack_require__(\"aozt\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_axios__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__assets_util_js__ = __webpack_require__(\"mt/N\");\n\n\n\nvar instance = __WEBPACK_IMPORTED_MODULE_0_axios___default.a.create({\n  baseURL: 'http://localhost:8081/',\n  timeout: 10000\n});\n\ninstance.defaults.headers.post['Content-Type'] = 'application/json';\n//错误处理\ninstance.interceptors.response.use(function (response) {\n  return response;\n}, __WEBPACK_IMPORTED_MODULE_1__assets_util_js__[\"b\" /* catchError */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (instance);\n\n/***/ }),\n\n/***/ \"mt/N\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return session; });\n/* unused harmony export getUUID */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return deepcopy; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return buildMenu; });\n/* unused harmony export dateFormat */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return catchError; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__ = __webpack_require__(\"//Fk\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify__ = __webpack_require__(\"mvHQ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_typeof__ = __webpack_require__(\"pFYg\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_typeof___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_typeof__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_vue__ = __webpack_require__(\"7+uW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_element_ui__ = __webpack_require__(\"zL8q\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_element_ui___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_element_ui__);\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_3_vue__[\"default\"].component(__WEBPACK_IMPORTED_MODULE_4_element_ui__[\"Message\"].name, __WEBPACK_IMPORTED_MODULE_4_element_ui__[\"Message\"]);\n\n//sessionStorage\nvar session = function session(key, value) {\n  if (value === void 0) {\n    //如果value是空，表示从session中取值\n    var lsVal = sessionStorage.getItem(key);\n    if (lsVal && lsVal.indexOf('autostringify-') === 0) {\n      return JSON.parse(lsVal.split('autostringify-')[1]);\n    } else {\n      return lsVal;\n    }\n  } else {\n    //如果value不是空，表示向session中存值\n    if ((typeof value === 'undefined' ? 'undefined' : __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_typeof___default()(value)) === \"object\" || Array.isArray(value)) {\n      value = 'autostringify-' + __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(value);\n    };\n    return sessionStorage.setItem(key, value);\n  }\n};\n\n//生成随机数\nvar getUUID = function getUUID(len) {\n  len = len || 6;\n  len = parseInt(len, 10);\n  len = isNaN(len) ? 6 : len;\n  var seed = \"0123456789abcdefghijklmnopqrstubwxyzABCEDFGHIJKLMNOPQRSTUVWXYZ\";\n  var seedLen = seed.length - 1;\n  var uuid = \"\";\n  while (len--) {\n    uuid += seed[Math.round(Math.random() * seedLen)];\n  }\n  return uuid;\n};\n//深拷贝\nvar deepcopy = function deepcopy(source) {\n  if (!source) {\n    return source;\n  }\n  var sourceCopy = source instanceof Array ? [] : {};\n  for (var item in source) {\n    sourceCopy[item] = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_typeof___default()(source[item]) === 'object' ? deepcopy(source[item]) : source[item];\n  }\n  return sourceCopy;\n};\n//菜单数据组织\nvar buildMenu = function buildMenu(array, ckey) {\n  console.info(\"array:\" + __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(array));\n  console.info(\"ckey:\" + __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(ckey));\n  var menuData = [];\n  var indexKeys = Array.isArray(array) ? array.map(function (e) {\n    return e.id;\n  }) : [];\n  ckey = ckey || 'parentResourceCode';\n  array.forEach(function (e, i) {\n    //一级菜单\n    if (!e[ckey] || e[ckey] === e.id) {\n      delete e[ckey];\n      menuData.push(deepcopy(e)); //深拷贝\n    } else if (Array.isArray(indexKeys)) {\n      //检测ckey有效性\n      var parentIndex = indexKeys.findIndex(function (id) {\n        return id == e[ckey];\n      });\n      if (parentIndex === -1) {\n        menuData.push(e);\n      }\n    }\n  });\n  var findChildren = function findChildren(parentArr) {\n    if (Array.isArray(parentArr) && parentArr.length) {\n      parentArr.forEach(function (parentNode) {\n        array.forEach(function (node) {\n          if (parentNode.id === node[ckey]) {\n            if (parentNode.children) {\n              parentNode.children.push(node);\n            } else {\n              parentNode.children = [node];\n            }\n          }\n        });\n        if (parentNode.children) {\n          findChildren(parentNode.children);\n        }\n      });\n    }\n  };\n  findChildren(menuData);\n  return menuData;\n};\n//日期格式化\nvar dateFormat = function dateFormat(source, ignore_minute) {\n  var myDate;\n  var separate = '-';\n  var minute = '';\n  if (source === void 0) {\n    source = new Date();\n  }\n  if (source) {\n    if (source.split) {\n      source = source.replace(/\\-/g, '/');\n    } else if (isNaN(parseInt(source))) {\n      source = source.toString().replace(/\\-/g, '/');\n    } else {\n      source = new Date(source);\n    }\n\n    if (new Date(source) && new Date(source).getDate) {\n      myDate = new Date(source);\n      if (!ignore_minute) {\n        minute = (myDate.getHours() < 10 ? \" 0\" : \" \") + myDate.getHours() + \":\" + (myDate.getMinutes() < 10 ? \"0\" : \"\") + myDate.getMinutes();\n      }\n      return myDate.getFullYear() + separate + (myDate.getMonth() + 1) + separate + (myDate.getDate() < 10 ? '0' : '') + myDate.getDate() + minute;\n    } else {\n      return source.slice(0, 16);\n    }\n  } else {\n    return source;\n  }\n};\n//ajax错误处理\nvar catchError = function catchError(error) {\n  if (error.response) {\n    switch (error.response.status) {\n      case 400:\n        __WEBPACK_IMPORTED_MODULE_3_vue__[\"default\"].prototype.$message({\n          message: error.response.data.message || '请求参数异常',\n          type: 'error'\n        });\n        break;\n      case 401:\n        sessionStorage.removeItem('user');\n        __WEBPACK_IMPORTED_MODULE_3_vue__[\"default\"].prototype.$message({\n          message: error.response.data.message || '密码错误或账号不存在！',\n          type: 'warning',\n          onClose: function onClose() {\n            location.reload();\n          }\n        });\n        break;\n      case 403:\n        __WEBPACK_IMPORTED_MODULE_3_vue__[\"default\"].prototype.$message({\n          message: error.response.data.message || '无访问权限，请联系企业管理员',\n          type: 'warning'\n        });\n        break;\n      default:\n        __WEBPACK_IMPORTED_MODULE_3_vue__[\"default\"].prototype.$message({\n          message: error.response.data.message || '服务端异常，请联系技术支持',\n          type: 'error'\n        });\n    }\n  }\n  return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a.reject(error);\n};\n\n/***/ }),\n\n/***/ \"tvR6\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n\n},[\"NHnr\"]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.bf003a3e91664660271d.js","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4a537a69\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4a537a69\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-389010fd\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./login.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-389010fd\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-389010fd\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/login.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n  \t<el-row :gutter=\"20\" v-if=\"children\">\n      <el-col :span=\"4\" v-for=\"(route, index) in children\" :key=\"index\">\n        <el-card>\n          <div class=\"text\">\n          <p>{{route.name}}</p>\n          <router-link :to=\"{name: route.name}\">查看</router-link>\n        </div>\n        </el-card>\n      </el-col>\n    </el-row>\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      children: null\n    };\n  },\n  beforeRouteEnter: function(to, from, next) {\n    next(vm => {\n      let children = vm.$route.meta.children;\n      if (children) {\n        vm.children = children;\n      } else {\n        vm.children = null;\n      }\n    });\n  },\n  watch: {\n    '$route': function(to, from) {\n      let children = this.$route.meta.children;\n      if (children) {\n        this.children = children;\n      } else {\n        this.children = null;\n      }\n    }\n  }\n};\n</script>\n\n\n// WEBPACK FOOTER //\n// src/views/common/abstract.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.children)?_c('el-row',{attrs:{\"gutter\":20}},_vm._l((_vm.children),function(route,index){return _c('el-col',{key:index,attrs:{\"span\":4}},[_c('el-card',[_c('div',{staticClass:\"text\"},[_c('p',[_vm._v(_vm._s(route.name))]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":{name: route.name}}},[_vm._v(\"查看\")])],1)])],1)})):_vm._e(),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-01378aaa\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/common/abstract.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./abstract.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./abstract.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-01378aaa\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./abstract.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/common/abstract.vue\n// module id = null\n// module chunks = ","import Abstract from '../views/common/abstract.vue';\n\nexport default [{\n  path: '/',\n  name: '首页',\n  component: (resolve) => require(['../views/index.vue'], resolve),\n  children: [{\n    path: '/roles',\n    name: '平台-角色管理',\n    meta: {\n      name: '角色管理'\n    },\n    component: (resolve) => require(['../views/roles.vue'], resolve)\n  }, {\n    path: '/accounts',\n    name: '平台-账号管理',\n    meta: {\n      name: '账号管理'\n    },\n    component: (resolve) => require(['../views/accounts.vue'], resolve)\n  }, {\n    path: '/goods',\n    name: '商品管理',\n    meta: {\n      icon: '&#xe62e;'\n    },\n    component: Abstract,\n    children: [{\n      path: 'list',\n      name: '商品信息',\n      meta: {\n        \n      },\n      component: (resolve) => require(['../views/goods-list.vue'], resolve)\n    }]\n  }]\n}];\n\n\n// WEBPACK FOOTER //\n// ./src/router/fullpath.js","<style>\n@import './assets/common.css';\n</style>\n\n<template>\n  <router-view id=\"app\" @login=\"loginDirect\" @logout=\"logoutDirect\"></router-view>\n</template>\n\n<script>\nimport Vue from 'vue';\nimport instance from './api';\nimport userPath from './router/fullpath';\nimport * as util from './assets/util.js';\n\n//请求拦截句柄\nlet myInterceptor;\n\nexport default {\n  data() {\n    return {\n      menuData: null,\n      userData: null\n    }\n  },\n  methods: {\n    //解析用户信息，将可访问的资源映射成为map返回\n    getPermission: function(resources) {\n      let resourcePermission = {};\n      if (Array.isArray(resources)) {\n        resources.forEach(function(e, i) {\n          let key = e.resourcePath;\n          resourcePermission[key] = true;\n        });\n      }\n      return resourcePermission;\n    },\n    //设置拦截器\n    setInterceptor: function(resourcePermission) {\n      let vm = this;\n      myInterceptor = instance.interceptors.request.use(function(config) {\n        //得到请求路径\n        let perName = config.url.replace(config.baseURL, '').replace('/GET','').replace('/POST','').split('?')[0];\n        //权限格式1 /path/${param}\n        let reg1 = perName.match(/^(\\/[^\\/]+\\/)[^\\/]+$/);\n        if (reg1) {\n          perName = reg1[1] + '**';\n        }\n        //权限格式2 /path/${param}/path\n        let reg2 = perName.match(/^\\/[^\\/]+\\/([^\\/]+)\\/[^\\/]+$/);\n        if (reg2) {\n          perName = perName.replace(reg2[1], '*');\n        }\n        //校验权限\n        if (!resourcePermission[config.method + ',' + perName]) {\n          //调试信息\n          console.warn(resourcePermission, config.method + ',' + perName);\n          vm.$message({\n            message: '无访问权限，请联系企业管理员',\n            type: 'warning'\n          });\n          //拦截请求\n          return Promise.reject({\n            message: 'no permission'\n          });\n        }\n        return config;\n      });\n    },\n    getRoutes: function(resources) {\n      // if(!userInfo.menus){\n      //   return console.warn(userInfo);\n      // }\n      let vm = this;\n      let allowedRouter = [];\n      //将菜单数据转成多维数组格式\n      let arrayMenus = util.buildMenu(resources);\n      //将多维数组转成对象格式\n      let hashMenus = {};\n      let setMenu2Hash = function(array, base) {\n        array.map(key => {\n          if (key.route) {\n            let hashKey = ((base ? base + '/' : '') + key.route).replace(/^\\//, '');\n            hashMenus['/' + hashKey] = true;\n            if (Array.isArray(key.children)) {\n              setMenu2Hash(key.children, key.route);\n            }\n          }\n        });\n      };\n      setMenu2Hash(arrayMenus);\n      //全局挂载hashMenus，用于实现路由守卫\n      this.$root.hashMenus = hashMenus;\n      //筛选本地路由方法\n      let findLocalRoute = function(array, base) {\n        let replyResult = [];\n        array.forEach(function(route) {\n          let pathKey = (base ? base + '/' : '') + route.path;\n          if (hashMenus[pathKey]) {\n            if (Array.isArray(route.children)) {\n              route.children = findLocalRoute(route.children, route.path);\n            }\n            replyResult.push(route);\n          }\n        });\n        if (base) {\n          return replyResult;\n        } else {\n          allowedRouter = allowedRouter.concat(replyResult);\n        }\n      }\n      let originPath = util.deepcopy(userPath[0].children);\n      findLocalRoute(originPath);\n      return allowedRouter;\n    },\n    extendRoutes: function(allowedRouter) {\n      let vm = this;\n      let actualRouter = util.deepcopy(allowedRouter);\n      actualRouter.map(e => {\n        //复制子菜单信息到meta用于实现导航相关效果，非必需\n        if (e.children) {\n          if (!e.meta) e.meta = {};\n          e.meta.children = e.children;\n        }\n        //为动态路由添加独享守卫\n        return e.beforeEnter = function(to, from, next){\n          if(vm.$root.hashMenus[to.path]){\n            next()\n          }else{\n            next('/401')\n          }\n        }\n      });\n      let originPath = util.deepcopy(userPath);\n      originPath[0].children = actualRouter;\n      //注入404路由，所有其他请求默认路由到404\n      vm.$router.addRoutes(originPath.concat([{\n        path: '*',\n        redirect: '/404'\n      }]));\n    },\n    //登录操作\n    signin: function(callback) {\n      let vm = this;\n      //通过检查token，判断登录状态。如果token不存在，就跳转到登录界面。\n      let localUser = util.session('token');\n      if (!localUser) {\n        return vm.$router.push({ path: '/login', query: { from: vm.$router.currentRoute.path } });\n      }\n      //设置请求头统一携带token\n      //instance.defaults.headers.common['Authorization'] = 'Bearer ' + localUser;\n      //获取用户信息及权限数据\n      instance.get(`/login/checkTicket`, {\n        params: {\n          ticket: localUser\n        }\n      }).then((res) => {\n        let userInfo = res.data;\n        //取得资源权限对象\n        let resourcePermission = vm.getPermission(userInfo.commission_resource_list);\n        //使用资源权限设置请求拦截\n        //vm.setInterceptor(resourcePermission);\n        //获得实际路由\n        let allowedRouter = vm.getRoutes(userInfo.commission_resource_list);\n        //若无可用路由限制访问\n        if (!allowedRouter || !allowedRouter.length) {\n          util.session('token','');\n          return document.body.innerHTML = ('<h1>账号访问受限，请联系系统管理员！</h1>');\n        }\n        //动态注入路由\n        vm.extendRoutes(allowedRouter);\n        //保存数据用作他处，非必需\n        vm.menuData = allowedRouter;\n        vm.userData = userInfo;\n        //权限检验方法\n        // Vue.prototype.$_has = function(rArray) {\n        //   let resources = [];\n        //   let permission = true;\n        //   //提取权限数组\n        //   if (Array.isArray(rArray)) {\n        //     rArray.forEach(function(e) {\n        //       resources = resources.concat(e.p);\n        //     });\n        //   } else {\n        //     resources = resources.concat(rArray.p);\n        //   }\n        //   //校验权限\n        //   resources.forEach(function(p) {\n        //     if (!resourcePermission[p]) {\n        //       return permission = false;\n        //     }\n        //   });\n        //   return permission;\n        // }\n        //执行回调\n        typeof callback === 'function' && callback();\n      })\n    },\n    //登录\n    loginDirect: function(newPath){\n      this.signin(() => {\n        //跳转到新路径或跟路径\n        this.$router.replace({path: newPath || '/'});\n      });\n    },\n    //退出\n    logoutDirect: function(){\n      //清除session\n      util.session('token','');\n      //清除请求权限控制\n      instance.interceptors.request.eject(myInterceptor);\n      //清除菜单权限\n      this.$root.hashMenus = {};\n      //清除请求头token\n      instance.defaults.headers.common['Authorization'] = '';\n      //回到登录页\n      this.$router.replace({path: '/login'});\n    }\n  },\n  created: function(newPath) {\n    this.signin();\n  }\n}\n</script>\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('router-view',{attrs:{\"id\":\"app\"},on:{\"login\":_vm.loginDirect,\"logout\":_vm.logoutDirect}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4a537a69\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","<style scoped>\n#app {\n  display: table;\n  width: 100%;\n}\n.main-title {\n  text-align: center;\n}\n.des {\n  text-align: center;\n  color: #999;\n  margin-bottom: 2em;\n}\n.login-form {\n  width: 400px;\n  margin: 13% auto 0;\n}\n.login-page {\n  background: #fff;\n}\n</style>\n<template>\n  <div>\n    <div class=\"g-center login-page\" @keyup.enter=\"login\">\n      <el-form class=\"login-form\">\n        <el-form-item>\n          <el-input\n            :autofocus=\"true\"\n            placeholder=\"请输入账号\"\n            v-model=\"username\">\n            <template slot=\"prepend\"><i class=\"el-icon-mobile-phone\"></i></template>\n          </el-input>\n        </el-form-item>\n        <el-form-item>\n          <el-input\n            placeholder=\"请输入密码\"\n            type=\"password\"\n            v-model=\"password\">\n            <template slot=\"prepend\"><i class=\"el-icon-info\"></i></template>\n          </el-input>\n        </el-form-item>\n        <el-form-item>\n          <el-button style=\"width:100%\" @click.native=\"login\" type=\"primary\" :loading=\"isBtnLoading\">{{btnText}}</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport CryptoJS from \"crypto-js\";\nimport * as util from \"../assets/util.js\";\n//传入用户名和密码，调用远程地址，获取token\nconst requestLogin = params => {\n  // let words = CryptoJS.enc.Utf8.parse(params.password);\n  // let base64 = CryptoJS.enc.Base64.stringify(words);\n  // params.password = base64;\n  return axios.get(`http://localhost:8081/login/checkUser`, { params });\n};\n\nexport default {\n  data() {\n    return {\n      username: \"\",\n      password: \"\",\n      isBtnLoading: false\n    };\n  },\n  computed: {\n    btnText() {\n      if (this.isBtnLoading) return \"登录中...\";\n      return \"登录\";\n    }\n  },\n  methods: {\n    login() {\n      var vm = this;\n      if (!vm.username) {\n        vm.$message.error(\"请填写用户名！！！\");\n        return;\n      }\n      if (!vm.password) {\n        vm.$message.error(\"请填写密码\");\n        return;\n      }\n\n      let loginParams = {\n        username: vm.username,\n        password: vm.password,\n        targetAppCode: \"testApp\"\n      };\n      vm.isBtnLoading = true;\n      //调用远程地址获取token\n      requestLogin(loginParams)\n        .then(res => {\n          vm.isBtnLoading = false;\n          if (res.data) {\n            util.session(\"token\", res.data);\n            //跳转到原来的目标地址\n            vm.$emit(\"login\", vm.$router.currentRoute.query.from);\n          } else {\n            return Promise.reject({\n              message: \"登录异常！\"\n            });\n          }\n        })\n        .catch(util.catchError);\n    }\n  },\n  created() {\n    sessionStorage.clear();\n  }\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/views/login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"g-center login-page\",on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.login($event)}}},[_c('el-form',{staticClass:\"login-form\"},[_c('el-form-item',[_c('el-input',{attrs:{\"autofocus\":true,\"placeholder\":\"请输入账号\"},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}},[_c('template',{slot:\"prepend\"},[_c('i',{staticClass:\"el-icon-mobile-phone\"})])],2)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-input',{attrs:{\"placeholder\":\"请输入密码\",\"type\":\"password\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}},[_c('template',{slot:\"prepend\"},[_c('i',{staticClass:\"el-icon-info\"})])],2)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"primary\",\"loading\":_vm.isBtnLoading},nativeOn:{\"click\":function($event){return _vm.login($event)}}},[_vm._v(_vm._s(_vm.btnText))])],1)],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-389010fd\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/login.vue\n// module id = null\n// module chunks = ","import Vue from 'vue';\nimport Router from 'vue-router';\nimport login from '@/views/login.vue'\nVue.use(Router);\n\nlet baseRoute = [{\n  path: '/login',\n  name: '登录',\n  component: login\n}, {\n  path: '/401',\n  name: '无权访问',\n  component: (resolve) => require(['../views/common/401.vue'], resolve)\n}, {\n  path: '/404',\n  name: '找不到页面',\n  component: (resolve) => require(['../views/common/404.vue'], resolve)\n}];\n\nlet router = new Router({\n  mode: 'history',\n  routes: baseRoute\n});\n\nrouter.beforeEach((to, from, next) => {\n  let routeName = to.meta.name || to.name;\n  window.document.title = (routeName ? routeName + ' - ' : '') + 'Vue-Access-Control';\n  next();\n});\n\nexport default router;\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import Vue from 'vue';\nimport ElementUI from 'element-ui';\nimport 'element-ui/lib/theme-chalk/index.css';\n\nimport App from './App.vue';\nimport router from './router';\n\nVue.use(ElementUI);\n//权限指令\nVue.directive('has', {\n  bind: function (el, binding) {\n    if (!Vue.prototype.$_has(binding.value)) {\n      el.parentNode.removeChild(el);\n    }\n  }\n});\n\nnew Vue({\n  el: '#app',\n  router,\n  components: {\n    App\n  },\n  template: \"<App/>\"\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import axios from 'axios';\nimport * as util from '../assets/util.js';\n\nconst instance = axios.create({\n  baseURL: 'http://localhost:8081/',\n  timeout: 10000\n});\n\ninstance.defaults.headers.post['Content-Type'] = 'application/json';\n//错误处理\ninstance.interceptors.response.use(function(response) {\n  return response;\n}, util.catchError);\n\nexport default instance;\n\n\n// WEBPACK FOOTER //\n// ./src/api/index.js","import Vue from 'vue'\nimport {\n  Message\n} from 'element-ui'\nVue.component(Message.name, Message)\n\n//sessionStorage\nexport const session = function (key, value) {\n  if (value === void(0)) {\n    //如果value是空，表示从session中取值\n    var lsVal = sessionStorage.getItem(key);\n    if (lsVal && lsVal.indexOf('autostringify-') === 0) {\n      return JSON.parse(lsVal.split('autostringify-')[1]);\n    } else {\n      return lsVal;\n    }\n  } else {\n    //如果value不是空，表示向session中存值\n    if (typeof (value) === \"object\" || Array.isArray(value)) {\n      value = 'autostringify-' + JSON.stringify(value);\n    };\n    return sessionStorage.setItem(key, value);\n  }\n}\n\n//生成随机数\nexport const getUUID = function (len) {\n  len = len || 6;\n  len = parseInt(len, 10);\n  len = isNaN(len) ? 6 : len;\n  var seed = \"0123456789abcdefghijklmnopqrstubwxyzABCEDFGHIJKLMNOPQRSTUVWXYZ\";\n  var seedLen = seed.length - 1;\n  var uuid = \"\";\n  while (len--) {\n    uuid += seed[Math.round(Math.random() * seedLen)];\n  }\n  return uuid;\n};\n//深拷贝\nexport const deepcopy = function (source) {\n  if (!source) {\n    return source;\n  }\n  let sourceCopy = source instanceof Array ? [] : {};\n  for (let item in source) {\n    sourceCopy[item] = typeof source[item] === 'object' ? deepcopy(source[item]) : source[item];\n  }\n  return sourceCopy;\n};\n//菜单数据组织\nexport const buildMenu = function (array, ckey) {\n  console.info(\"array:\"+JSON.stringify(array))\n  console.info(\"ckey:\"+JSON.stringify(ckey))\n  let menuData = [];\n  let indexKeys = Array.isArray(array) ? array.map((e) => {\n    return e.id\n  }) : [];\n  ckey = ckey || 'parentResourceCode';\n  array.forEach(function (e, i) {\n    //一级菜单\n    if (!e[ckey] || (e[ckey] === e.id)) {\n      delete e[ckey];\n      menuData.push(deepcopy(e)); //深拷贝\n    } else if (Array.isArray(indexKeys)) {\n      //检测ckey有效性\n      let parentIndex = indexKeys.findIndex(function (id) {\n        return id == e[ckey];\n      });\n      if (parentIndex === -1) {\n        menuData.push(e);\n      }\n    }\n  });\n  let findChildren = function (parentArr) {\n    if (Array.isArray(parentArr) && parentArr.length) {\n      parentArr.forEach(function (parentNode) {\n        array.forEach(function (node) {\n          if (parentNode.id === node[ckey]) {\n            if (parentNode.children) {\n              parentNode.children.push(node);\n            } else {\n              parentNode.children = [node];\n            }\n          }\n        });\n        if (parentNode.children) {\n          findChildren(parentNode.children);\n        }\n      });\n    }\n  };\n  findChildren(menuData);\n  return menuData;\n}\n//日期格式化\nexport const dateFormat = function (source, ignore_minute) {\n  var myDate;\n  var separate = '-';\n  var minute = '';\n  if (source === void(0)) {\n    source = new Date();\n  }\n  if (source) {\n    if (source.split) {\n      source = source.replace(/\\-/g, '/');\n    } else if (isNaN(parseInt(source))) {\n      source = source.toString().replace(/\\-/g, '/');\n    } else {\n      source = new Date(source);\n    }\n\n    if (new Date(source) && (new Date(source)).getDate) {\n      myDate = new Date(source);\n      if (!ignore_minute) {\n        minute = (myDate.getHours() < 10 ? \" 0\" : \" \") + myDate.getHours() + \":\" + (myDate.getMinutes() < 10 ? \"0\" : \"\") + myDate.getMinutes();\n      }\n      return myDate.getFullYear() + separate + (myDate.getMonth() + 1) + separate + (myDate.getDate() < 10 ? '0' : '') + myDate.getDate() + minute;\n    } else {\n      return source.slice(0, 16);\n    }\n  } else {\n    return source\n  }\n};\n//ajax错误处理\nexport const catchError = function (error) {\n  if (error.response) {\n    switch (error.response.status) {\n      case 400:\n        Vue.prototype.$message({\n          message: error.response.data.message || '请求参数异常',\n          type: 'error'\n        });\n        break;\n      case 401:\n        sessionStorage.removeItem('user');\n        Vue.prototype.$message({\n          message: error.response.data.message || '密码错误或账号不存在！',\n          type: 'warning',\n          onClose: function () {\n            location.reload();\n          }\n        });\n        break;\n      case 403:\n        Vue.prototype.$message({\n          message: error.response.data.message || '无访问权限，请联系企业管理员',\n          type: 'warning'\n        });\n        break;\n      default:\n        Vue.prototype.$message({\n          message: error.response.data.message || '服务端异常，请联系技术支持',\n          type: 'error'\n        });\n    }\n  }\n  return Promise.reject(error);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/util.js"],"sourceRoot":""}